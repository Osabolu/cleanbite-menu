<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Order premium Nigerian yoghurt from CleanBite Empire. Fresh, creamy, and made with 100% real fruit.">
    <title>CleanBite Empire | Order Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* ==================== ROOT VARIABLES ==================== */
        :root {
            --primary: #ffd700;
            --primary-dark: #e6c200;
            --primary-light: #fff9e6;
            --secondary: #2c3e50;
            --success: #2ecc71;
            --success-light: #e8f5e9;
            --warning: #f39c12;
            --warning-light: #fff3e0;
            --danger: #e74c3c;
            --danger-light: #ffebee;
            --info: #3498db;
            --info-light: #e3f2fd;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --gray-light: #ecf0f1;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --shadow-hover: 0 20px 40px rgba(0,0,0,0.15);
            --border-radius: 24px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #f8fafc;
            color: var(--dark);
            overflow-x: hidden;
        }

        /* ==================== PARALLAX HERO ==================== */
        .parallax-hero {
            position: relative;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }

        .parallax-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            will-change: transform;
        }

        .layer-1 {
            background: linear-gradient(135deg, #1a2634 0%, var(--dark) 100%);
            transform: translateZ(-10px) scale(2);
            z-index: 1;
        }

        .layer-2 {
            background-image: url('https://images.unsplash.com/photo-1542838132-92c53300491e?q=80&w=2574&auto=format&fit=crop');
            opacity: 0.2;
            background-size: cover;
            transform: translateZ(-5px) scale(1.5);
            z-index: 2;
        }

        .layer-3 {
            background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.6) 100%);
            z-index: 3;
        }

        .hero-content {
            position: relative;
            z-index: 10;
            max-width: 900px;
            padding: 40px;
            animation: fadeInUp 1.5s ease;
        }

        .hero-content h1 {
            font-size: 5rem;
            font-weight: 800;
            margin-bottom: 20px;
            text-shadow: 0 5px 20px rgba(0,0,0,0.3);
            letter-spacing: 2px;
        }

        .hero-content h1 span {
            color: var(--primary);
            text-shadow: 0 0 20px rgba(255,215,0,0.5);
        }

        .hero-content p {
            font-size: 1.4rem;
            margin-bottom: 40px;
            opacity: 0.95;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .btn-hero {
            padding: 18px 45px;
            border-radius: 60px;
            font-weight: 600;
            font-size: 1.2rem;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .btn-hero-primary {
            background: var(--primary);
            color: var(--dark);
        }

        .btn-hero-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255,215,0,0.4);
        }

        .btn-hero-secondary {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .btn-hero-secondary:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-5px);
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ==================== NAVIGATION ==================== */
        .main-nav {
            position: sticky;
            top: 0;
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-brand i {
            font-size: 32px;
            color: var(--primary);
            filter: drop-shadow(0 4px 8px rgba(255,215,0,0.2));
        }

        .nav-brand h2 {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--dark);
        }

        .nav-brand span {
            color: var(--primary);
        }

        .nav-cart {
            position: relative;
            cursor: pointer;
            background: var(--primary-light);
            padding: 12px 20px;
            border-radius: 50px;
            transition: var(--transition);
        }

        .nav-cart:hover {
            background: var(--primary);
            transform: translateY(-3px);
        }

        .nav-cart i {
            font-size: 24px;
            color: var(--dark);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            font-size: 12px;
            font-weight: 700;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid white;
            box-shadow: 0 4px 10px rgba(231,76,60,0.3);
        }

        /* ==================== MENU SECTION ==================== */
        .menu-section {
            padding: 80px 40px;
            background: white;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-header h2 {
            font-size: 3rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .section-header h2 i {
            color: var(--primary);
            margin-right: 15px;
        }

        .section-header p {
            color: var(--gray);
            font-size: 1.2rem;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .menu-card {
            background: white;
            border-radius: 32px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.05);
            transition: var(--transition);
            border: 1px solid #edf2f7;
            position: relative;
        }

        .menu-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary);
        }

        .menu-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: var(--dark);
            padding: 8px 20px;
            border-radius: 40px;
            font-weight: 700;
            font-size: 0.9rem;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(255,215,0,0.3);
        }

        .menu-image {
            height: 250px;
            background-size: cover;
            background-position: center;
            position: relative;
            transition: var(--transition);
        }

        .menu-card:hover .menu-image {
            transform: scale(1.05);
        }

        .menu-content {
            padding: 30px;
        }

        .menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .menu-header h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark);
        }

        .menu-price {
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--success);
        }

        .menu-desc {
            color: var(--gray);
            font-size: 0.95rem;
            margin-bottom: 25px;
            line-height: 1.7;
        }

        .menu-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 50px;
        }

        .quantity-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: none;
            background: white;
            color: var(--dark);
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .quantity-btn:hover {
            background: var(--primary);
            color: var(--dark);
            transform: scale(1.1);
        }

        .quantity-value {
            font-weight: 700;
            min-width: 30px;
            text-align: center;
            font-size: 1.2rem;
        }

        .btn-add {
            background: var(--primary);
            color: var(--dark);
            border: none;
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(255,215,0,0.2);
        }

        .btn-add:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(255,215,0,0.3);
        }

        /* ==================== LIVE KITCHEN STREAM ==================== */
        .kitchen-stream {
            background: linear-gradient(135deg, #1a2634 0%, var(--dark) 100%);
            padding: 80px 40px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .kitchen-stream::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1556911220-bda9f7f7597e?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            opacity: 0.1;
            background-size: cover;
            background-position: center;
        }

        .kitchen-header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
            z-index: 2;
        }

        .kitchen-header h2 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 15px;
        }

        .kitchen-header h2 i {
            color: var(--primary);
            margin-right: 15px;
        }

        .kitchen-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto 50px;
            position: relative;
            z-index: 2;
        }

        .stat-item {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 35px 25px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-10px);
            background: rgba(255,255,255,0.15);
            border-color: var(--primary);
        }

        .stat-item i {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .stat-value {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(135deg, white, var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: rgba(255,255,255,0.9);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .activity-feed {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border-radius: 40px;
            padding: 30px;
            position: relative;
            z-index: 2;
        }

        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .feed-header h3 {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .feed-header h3 i {
            color: var(--primary);
        }

        .refresh-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 12px 25px;
            border-radius: 40px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .refresh-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(180deg);
        }

        #activityFeed {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }

        #activityFeed::-webkit-scrollbar {
            width: 8px;
        }

        #activityFeed::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }

        #activityFeed::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border-left: 5px solid;
            transition: var(--transition);
            animation: slideIn 0.4s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .activity-item:hover {
            background: rgba(255,255,255,0.15);
            transform: translateX(5px);
        }

        .activity-icon {
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .activity-content {
            flex: 1;
        }

        .activity-text {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1rem;
            line-height: 1.5;
        }

        .activity-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.7);
        }

        .activity-time, .activity-customer, .activity-order {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 5px 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 30px;
            font-weight: 500;
        }

        .activity-customer {
            background: rgba(255,215,0,0.15);
            color: var(--primary);
        }

        .activity-order {
            background: rgba(52,152,219,0.15);
            color: var(--info);
        }

        /* ==================== ABOUT SECTION ==================== */
        .about-section {
            padding: 100px 40px;
            background: white;
        }

        .about-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .about-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .about-header h2 {
            font-size: 3rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .about-header h2 i {
            color: var(--primary);
        }

        .about-header p {
            color: var(--gray);
            font-size: 1.2rem;
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            margin-bottom: 80px;
        }

        .about-image {
            position: relative;
        }

        .image-stack {
            position: relative;
            height: 500px;
        }

        .image-main {
            position: absolute;
            top: 0;
            left: 0;
            width: 85%;
            height: 85%;
            background-size: cover;
            background-position: center;
            border-radius: 40px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.1);
            border: 8px solid white;
        }

        .image-accent {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 60%;
            height: 60%;
            background-size: cover;
            background-position: center;
            border-radius: 40px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
            border: 8px solid white;
            z-index: 2;
        }

        .about-content {
            padding: 20px;
        }

        .about-badge {
            display: inline-block;
            background: var(--primary);
            color: var(--dark);
            padding: 10px 30px;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1rem;
            letter-spacing: 2px;
            margin-bottom: 25px;
        }

        .about-content h3 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 25px;
            line-height: 1.3;
        }

        .about-text p {
            color: var(--gray);
            margin-bottom: 25px;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .about-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-box {
            text-align: center;
            padding: 25px;
            background: #f8fafc;
            border-radius: 24px;
            border: 1px solid #edf2f7;
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .about-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            background: var(--primary-light);
            border-radius: 16px;
            color: var(--dark);
            font-weight: 600;
        }

        .feature i {
            color: var(--primary);
            font-size: 1.2rem;
        }

        .about-mission {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 60px;
        }

        .mission-card {
            text-align: center;
            padding: 40px 30px;
            background: #f8fafc;
            border-radius: 32px;
            border: 1px solid #edf2f7;
            transition: var(--transition);
        }

        .mission-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary);
        }

        .mission-card i {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .mission-card h4 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .mission-card p {
            color: var(--gray);
            line-height: 1.7;
            font-size: 1rem;
        }

        /* ==================== FOOTER ==================== */
        .footer {
            background: #0f172a;
            color: white;
            padding: 80px 40px 30px;
            position: relative;
        }

        .footer-wave {
            position: absolute;
            top: -50px;
            left: 0;
            width: 100%;
            overflow: hidden;
            line-height: 0;
        }

        .footer-wave svg {
            position: relative;
            display: block;
            width: calc(100% + 1.3px);
            height: 50px;
        }

        .footer-wave path {
            fill: #0f172a;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1.5fr;
            gap: 60px;
            margin-bottom: 60px;
        }

        .footer-section h3 {
            color: var(--primary);
            margin-bottom: 25px;
            font-size: 1.3rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-section h3 i {
            color: var(--primary);
        }

        .footer-section p {
            color: rgba(255,255,255,0.7);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            line-height: 1.7;
        }

        .footer-section a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .footer-section a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .footer-social {
            display: flex;
            gap: 20px;
            margin-top: 25px;
        }

        .footer-social a {
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.05);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .footer-social a:hover {
            background: var(--primary);
            color: var(--dark);
            transform: translateY(-5px);
        }

        .footer-newsletter {
            margin-top: 25px;
        }

        .footer-newsletter h4 {
            color: white;
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .newsletter-input {
            display: flex;
            gap: 10px;
        }

        .newsletter-input input {
            flex: 1;
            padding: 15px 20px;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.05);
            color: white;
            font-family: 'Poppins', sans-serif;
        }

        .newsletter-input input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .newsletter-input button {
            padding: 15px 25px;
            background: var(--primary);
            border: none;
            border-radius: 50px;
            color: var(--dark);
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
        }

        .newsletter-input button:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.5);
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer-bottom-links {
            display: flex;
            gap: 30px;
        }

        .footer-bottom-links a {
            color: rgba(255,255,255,0.5);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-bottom-links a:hover {
            color: var(--primary);
        }

        /* ==================== MODAL STYLES ==================== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 40px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalZoom 0.4s ease;
        }

        @keyframes modalZoom {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-header {
            padding: 30px;
            border-bottom: 1px solid #edf2f7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #f8f9fa, white);
            border-radius: 40px 40px 0 0;
        }

        .modal-header h3 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-header h3 i {
            color: var(--primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 32px;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: var(--danger-light);
            color: var(--danger);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 30px;
        }

        /* ==================== CART MODAL ==================== */
        .cart-items {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 25px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            border-bottom: 1px solid #edf2f7;
            background: #f8f9fa;
            border-radius: 20px;
            margin-bottom: 10px;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            border-radius: 16px;
            background-size: cover;
            background-position: center;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 700;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .cart-item-price {
            color: var(--success);
            font-weight: 800;
            font-size: 1.2rem;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cart-quantity-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 1px solid #edf2f7;
            background: white;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .cart-quantity-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
        }

        .cart-summary {
            background: #f8f9fa;
            border-radius: 24px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .summary-row.total {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #edf2f7;
            font-weight: 800;
            font-size: 1.4rem;
            color: var(--success);
        }

        /* ==================== CHECKOUT FORM ==================== */
        .form-section {
            margin-bottom: 30px;
        }

        .form-section h4 {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-section h4 i {
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #edf2f7;
            border-radius: 20px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 4px rgba(255,215,0,0.1);
        }

        .payment-options {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }

        .payment-option {
            flex: 1;
            position: relative;
        }

        .payment-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .payment-option label {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 18px;
            background: #f8f9fa;
            border: 2px solid #edf2f7;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .payment-option input[type="radio"]:checked + label {
            background: var(--primary-light);
            border-color: var(--primary);
            color: var(--dark);
        }

        .bank-details {
            background: var(--primary-light);
            border: 2px solid var(--primary);
            border-radius: 24px;
            padding: 25px;
            margin-top: 20px;
        }

        .bank-info {
            background: white;
            border-radius: 20px;
            padding: 25px;
        }

        .bank-info p {
            margin-bottom: 15px;
            display: flex;
            align-items: baseline;
            font-size: 1rem;
        }

        .bank-info strong {
            min-width: 150px;
            color: var(--dark);
        }

        .bank-info .note {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #edf2f7;
            color: var(--warning);
            font-weight: 600;
        }

        .flex {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 16px;
        }

        .flex i {
            font-size: 2.5rem;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 18px 24px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--dark);
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(255,215,0,0.3);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #f1f5f9;
            color: var(--dark);
        }

        .btn-secondary:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        /* ==================== CONFIRMATION MODAL ==================== */
        .confirmation-icon {
            text-align: center;
            margin-bottom: 25px;
        }

        .confirmation-icon i {
            font-size: 100px;
            color: var(--success);
            animation: scaleIn 0.5s ease;
        }

        @keyframes scaleIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        .order-details {
            background: #f8f9fa;
            border-radius: 24px;
            padding: 30px;
            margin: 25px 0;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px dashed #edf2f7;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-weight: 600;
            color: var(--gray);
        }

        .detail-value {
            font-weight: 800;
            color: var(--dark);
            font-size: 1.2rem;
        }

        .detail-value.highlight {
            color: var(--success);
            font-size: 1.5rem;
        }

        .track-order-btn {
            display: inline-block;
            background: var(--primary);
            color: var(--dark);
            padding: 18px 40px;
            border-radius: 60px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.2rem;
            margin-top: 20px;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            width: 100%;
        }

        .track-order-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(255,215,0,0.3);
        }

        /* ==================== NOTIFICATION TOAST ==================== */
        .notification-toast {
            position: fixed;
            top: 30px;
            right: 30px;
            background: white;
            border-left: 6px solid;
            border-radius: 20px;
            padding: 20px 25px;
            min-width: 380px;
            max-width: 450px;
            display: flex;
            align-items: center;
            gap: 18px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
            z-index: 9999;
            animation: slideInRight 0.4s ease;
        }

        .notification-toast.success { border-left-color: var(--success); }
        .notification-toast.warning { border-left-color: var(--warning); }
        .notification-toast.error { border-left-color: var(--danger); }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 1200px) {
            .about-grid { grid-template-columns: 1fr; }
            .footer-content { grid-template-columns: repeat(2, 1fr); }
            .kitchen-stats { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            .hero-content h1 { font-size: 3rem; }
            .hero-content p { font-size: 1.1rem; }
            .hero-buttons { flex-direction: column; }
            .kitchen-stats { grid-template-columns: 1fr; }
            .about-mission { grid-template-columns: 1fr; }
            .footer-content { grid-template-columns: 1fr; }
            .payment-options { flex-direction: column; }
            .form-actions { flex-direction: column; }
        }
    </style>
</head>
<body>
    <!-- ==================== PARALLAX HERO ==================== -->
   
    <!-- ==================== NAVIGATION ==================== -->
    <nav class="main-nav">
        <div class="nav-brand">
            <i class="fas fa-crown"></i>
            <h2>CLEAN<span>BITE</span></h2>
        </div>
        <div class="nav-cart" id="cartIcon">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cartCount">0</span>
        </div>
    </nav>

    <!-- ==================== MENU GRID ==================== -->
    <div class="menu-section" id="menuSection">
        <div class="section-header">
            <h2><i class="fas fa-ice-cream"></i> Our Premium Yoghurt</h2>
            <p>Made fresh daily with the finest ingredients • 24-hour incubation</p>
        </div>
        <div class="menu-grid" id="menuGrid"></div>
    </div>

    <!-- ==================== LIVE KITCHEN STREAM ==================== -->
    <div class="kitchen-stream" id="kitchenStream">
        <div class="kitchen-header">
            <h2><i class="fas fa-kitchen-set"></i> Live Kitchen Stream</h2>
            <p>Watch your order come to life in real-time • 24hr incubation</p>
        </div>
        
        <div class="kitchen-stats">
            <div class="stat-item">
                <i class="fas fa-utensils"></i>
                <div class="stat-value" id="preparingCount">0</div>
                <div class="stat-label">Preparing</div>
            </div>
            <div class="stat-item">
                <i class="fas fa-fire"></i>
                <div class="stat-value" id="incubatingCount">0</div>
                <div class="stat-label">Incubating (24hrs)</div>
            </div>
            <div class="stat-item">
                <i class="fas fa-check-circle"></i>
                <div class="stat-value" id="readyCount">0</div>
                <div class="stat-label">Ready</div>
            </div>
            <div class="stat-item">
                <i class="fas fa-flag-checkered"></i>
                <div class="stat-value" id="completedCount">0</div>
                <div class="stat-label">Completed</div>
            </div>
        </div>
        
        <div class="activity-feed">
            <div class="feed-header">
                <h3><i class="fas fa-stream"></i> Live Activity Feed</h3>
                <button class="refresh-btn" id="refreshKitchen">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
            <div id="activityFeed"></div>
        </div>
    </div>
    <!-- ==================== FOOTER ==================== -->
    <footer class="footer">
        <div class="footer-wave">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"></path>
            </svg>
        </div>
        
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-crown"></i> CLEANBITE EMPIRE</h3>
                <p>Premium Nigerian yoghurt crafted with passion and 24-hour traditional incubation. Since 2024, serving smiles across Ogun & Ibadan.</p>
                <div class="footer-social">
                    <a href="https://www.instagram.com/cleanbite.1/"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-clock"></i> Opening Hours</h3>
                <p><i class="far fa-calendar"></i> Monday - Friday: 8am - 8pm</p>
                <p><i class="far fa-calendar"></i> Saturday: 9am - 6pm</p>
                <p><i class="far fa-calendar"></i> Sunday: 12pm - 5pm</p>
                <p style="margin-top: 15px;"><i class="fas fa-truck"></i> Delivery within Ibadan</p>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-link"></i> Quick Links</h3>
                <a href="#menuSection"><i class="fas fa-chevron-right"></i> Our Menu</a>
                <a href="#kitchenStream"><i class="fas fa-chevron-right"></i> Live Kitchen</a>
                <a href="#aboutUs"><i class="fas fa-chevron-right"></i> About Us</a>
                <a href="track.html"><i class="fas fa-chevron-right"></i> Track Order</a>
                <a href="review.html"><i class="fas fa-chevron-right"></i> Leave a Review</a>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-map-marker-alt"></i> Visit Us</h3>
                <p><i class="fas fa-map-pin"></i> 23 Olorunkemi Estate, Elebu, Ibadan</p>
                <p><i class="fas fa-phone-alt"></i> 080-CLEANBITE</p>
                <p><i class="fas fa-envelope"></i> cleanbitekitchen.official@gmail.com</p>
                
                <div class="footer-newsletter">
                    <h4><i class="fas fa-newspaper"></i> Subscribe to Updates</h4>
                    <div class="newsletter-input">
                        <input type="email" placeholder="Your email address">
                        <button><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div>© 2026 CleanBite. All rights reserved. | 24hr Traditional Incubation</div>
            <div class="footer-bottom-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Shipping Policy</a>
            </div>
        </div>
    </footer>

    <!-- ==================== CART MODAL ==================== -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-shopping-cart"></i> Your Cart</h3>
                <button class="modal-close" id="closeCartModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="cart-items" id="cartItems"></div>
                
                <div class="cart-summary">
                    <div class="summary-row"><span>Subtotal</span><span id="cartSubtotal">₦0</span></div>
                    <div class="summary-row"><span>VAT (7.5%)</span><span id="cartVat">₦0</span></div>
                    <div class="summary-row total"><span>Total</span><span id="cartTotal">₦0</span></div>
                </div>
                
                <div class="form-actions">
                    <button class="btn btn-secondary" id="clearCartBtn"><i class="fas fa-trash"></i> Clear</button>
                    <button class="btn btn-primary" id="checkoutBtn"><i class="fas fa-lock"></i> Checkout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== CHECKOUT MODAL ==================== -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-credit-card"></i> Complete Your Order</h3>
                <button class="modal-close" id="closeCheckoutModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="orderForm">
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> Customer Information</h4>
                        
                        <div class="form-group">
                            <label for="customerName">Full Name *</label>
                            <input type="text" id="customerName" placeholder="Enter your full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="customerPhone">Phone Number *</label>
                            <input type="tel" id="customerPhone" placeholder="e.g. 08012345678" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="customerEmail">Email Address (Optional)</label>
                            <input type="email" id="customerEmail" placeholder="your@email.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="deliveryNotes">Delivery Notes / Instructions</label>
                            <textarea id="deliveryNotes" rows="3" placeholder="Any special instructions?"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h4><i class="fas fa-credit-card"></i> Payment Method</h4>
                        
                        <div class="payment-options">
                            <div class="payment-option">
                                <input type="radio" name="payment" id="paymentTransfer" value="transfer" checked>
                                <label for="paymentTransfer"><i class="fas fa-university"></i> Bank Transfer</label>
                            </div>
                            
                            <div class="payment-option">
                                <input type="radio" name="payment" id="paymentCash" value="cash">
                                <label for="paymentCash"><i class="fas fa-money-bill-wave"></i> Cash on Pickup</label>
                            </div>
                        </div>
                        
                        <div class="bank-details" id="bankDetails">
                            <h4><i class="fas fa-university"></i> Bank Transfer Details</h4>
                            <div class="bank-info">
                                <p><strong>Bank:</strong> CARBON MICRO FINANCE BANK</p>
                                <p><strong>Account Name:</strong> Emmanuel Osabolu Okpere</p>
                                <p><strong>Account Number:</strong> 3034457406</p>
                                 <p class="note"><span>Please use your <strong>Order ID</strong> as payment reference and send proof to our WhatsApp</p>
                                <div class="flex">
                                    <img class="flex-image"src="images/whatsapp-order.png">
                                    <p>Delivery on request
                                        <i class="fas fa-truck" style="color: var(--primary); font-size: 100px;"></i>
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bank-details" id="cashDetails" style="display: none;">
                            <h4><i class="fas fa-money-bill-wave"></i> Cash on Pickup</h4>
                            <div class="bank-info">
                                <p><i class="fas fa-check-circle" style="color: #2ecc71;"></i> Pay when you collect</p>
                                <p><i class="fas fa-clock" style="color: #f39c12;"></i> 24hr incubation starts after verification</p>
                                <p><i class="fas fa-map-marker-alt" style="color: #e74c3c;"></i> Pickup: CleanBite Empire, Ibadan</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="backToCart"><i class="fas fa-arrow-left"></i> Back</button>
                        <button type="submit" class="btn btn-primary" id="submitOrderBtn"><i class="fas fa-paper-plane"></i> Place Order</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ==================== CONFIRMATION MODAL ==================== -->
    <div class="modal" id="confirmationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> Order Confirmed!</h3>
                <button class="modal-close" id="closeConfirmationModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="confirmation-icon"><i class="fas fa-check-circle"></i></div>
                
                <h3 style="text-align: center; margin-bottom: 20px;">Thank You, <span id="confirmCustomerName">Customer</span>!</h3>
                
                <div class="order-details">
                    <div class="detail-row">
                        <span class="detail-label">Order ID:</span>
                        <span class="detail-value highlight" id="confirmOrderId">CB-000000</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Payment Status:</span>
                        <span class="detail-value" style="color: var(--warning);">Pending Verification</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Incubation Starts:</span>
                        <span class="detail-value" id="confirmEstimatedTime">After verification</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Ready in:</span>
                        <span class="detail-value" style="color: var(--info);">24 hours after verification</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Total Amount:</span>
                        <span class="detail-value highlight" id="confirmTotal">₦0</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <p style="color: var(--gray); margin-bottom: 25px;">
                        <i class="fas fa-info-circle"></i> 
                        Use your Order ID as payment reference. You'll be notified when ready.
                    </p>
                    
                    <button class="track-order-btn" id="trackOrderBtn">
                        <i class="fas fa-map-marked-alt"></i> Track Order
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <script>
    // ==================== FIREBASE CONFIG ====================
    const firebaseConfig = {
        apiKey: "AIzaSyC1WaO1WE-LFayAqLeql0BP5vD8bddgUuE",
        authDomain: "cleanbite-empire.firebaseapp.com",
        databaseURL: "https://cleanbite-empire-default-rtdb.firebaseio.com",
        projectId: "cleanbite-empire",
        storageBucket: "cleanbite-empire.firebasestorage.app",
        messagingSenderId: "733995841314",
        appId: "1:733995841314:web:d82f5452f1fff0fdfad77b"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    window.database = firebase.database();
    const database = window.database;
    
    console.log('🔥 Firebase connected');

    // ==================== MENU DATA ====================
     const menuItems = [
        {
            id: 1,
            name: 'Plain Yoghurt',
            description: 'The Foundation: Creamy, classic plain yoghurt. Made from fresh cow milk.',
            price: 4000,
            image: 'images/sara-cervera-4caIPcmVDII-unsplash.jpg',
            badge: 'Best Seller'
        },
        {
            id: 2,
            name: 'Strawberry, Hibiscus & Dates',
            description: 'The Sentinel - Sweet strawberry flavour with real fruit pieces.',
            price: 6000,
            image: 'images/strawberry-photo.jpg',
            badge: 'Popular'
        },
        {
            id: 3,
            name: 'Vanilla, Cinnamon & Honey',
            description: 'The Warden - Smooth vanilla bean infused yoghurt.',
            price: 5000,
            image: 'https://images.unsplash.com/photo-1571212515416-fef01fc43637?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            badge: null
        },
        {
            id: 4,
            name: 'Coconut Milk & Dates',
            description: 'Blend of Coconut Milk extract mixed with Dates puree.',
            price: 5500,
            image: 'images/coconuts-dates.jpg',
            badge: 'New'
        },
        {
            id: 5,
            name: 'Cacao, Moringa & Dates',
            description: 'Thick, strained yoghurt with high protein.',
            price: 6000,
            image: 'images/coconut-dates (1).jpg',
            badge: 'Premium'
        },
        {
            id: 6,
            name: 'The Diplomat - Coconut Milk, Roasted Plantain & Cinnamon',
            description: 'Topped with honey and crunchy granola.',
            price: 5500,
            image: 'images/plantain-puree.png',
            badge: null
        }
    ];
   
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Order premium Nigerian yoghurt from CleanBite Empire. Fresh, creamy, and made with 100% real fruit.">
    <title>CleanBite Empire | Order Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* ==================== YOUR EXISTING STYLES HERE ==================== */
        /* Keep all your existing CSS - I'm only providing the fixed JavaScript */
        :root {
            --primary: #ffd700;
            --primary-dark: #e6c200;
            --primary-light: #fff9e6;
            --secondary: #2c3e50;
            --success: #2ecc71;
            --success-light: #e8f5e9;
            --warning: #f39c12;
            --warning-light: #fff3e0;
            --danger: #e74c3c;
            --danger-light: #ffebee;
            --info: #3498db;
            --info-light: #e3f2fd;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: #f8fafc; color: var(--dark); }
        /* ... rest of your CSS ... */
    </style>
</head>
<body>
    <!-- ==================== YOUR EXISTING HTML HERE ==================== -->
    <!-- Keep all your existing HTML structure -->

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <script>
    // ==================== FIREBASE CONFIG ====================
    const firebaseConfig = {
        apiKey: "AIzaSyC1WaO1WE-LFayAqLeql0BP5vD8bddgUuE",
        authDomain: "cleanbite-empire.firebaseapp.com",
        databaseURL: "https://cleanbite-empire-default-rtdb.firebaseio.com",
        projectId: "cleanbite-empire",
        storageBucket: "cleanbite-empire.firebasestorage.app",
        messagingSenderId: "733995841314",
        appId: "1:733995841314:web:d82f5452f1fff0fdfad77b"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    window.database = firebase.database();
    const database = window.database;
    
    console.log('🔥 Firebase connected');

    // ==================== MENU DATA ====================
    const menuItems = [
        {
            id: 1,
            name: 'Plain Yoghurt',
            description: 'The Foundation: Creamy, classic plain yoghurt. Made from fresh cow milk with 24hr incubation.',
            price: 4000,
            image: 'images/sara-cervera-4caIPcmVDII-unsplash.jpg',
            badge: 'Best Seller'
        },
        {
            id: 2,
            name: 'Strawberry, Hibiscus & Dates',
            description: 'The Sentinel - Sweet strawberry flavour with real fruit pieces and hibiscus notes.',
            price: 6000,
            image: 'images/strawberry-photo.jpg',
            badge: 'Popular'
        },
        {
            id: 3,
            name: 'Vanilla, Cinnamon & Honey',
            description: 'The Warden - Smooth vanilla bean infused yoghurt with warm cinnamon and honey.',
            price: 5000,
            image: 'https://images.unsplash.com/photo-1571212515416-fef01fc43637?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            badge: null
        },
        {
            id: 4,
            name: 'Coconut Milk & Dates',
            description: 'Blend of Coconut Milk extract mixed with Dates puree. Tropical and creamy.',
            price: 5500,
            image: 'images/coconuts-dates.jpg',
            badge: 'New'
        },
        {
            id: 5,
            name: 'Cacao, Moringa & Dates',
            description: 'Thick, strained yoghurt with high protein. Rich cacao and nutrient-packed moringa.',
            price: 6000,
            image: 'images/coconut-dates (1).jpg',
            badge: 'Premium'
        },
        {
            id: 6,
            name: 'The Diplomat',
            description: 'Coconut Milk, Roasted Plantain & Cinnamon - Topped with honey and crunchy granola.',
            price: 5500,
            image: 'images/plantain-puree.png',
            badge: 'Signature'
        }
    ];

    // ==================== GLOBAL VARIABLES ====================
    let cart = JSON.parse(localStorage.getItem('cleanbite_cart') || '[]');

    // ==================== RENDER MENU ====================
    function renderMenu() {
        const menuGrid = document.getElementById('menuGrid');
        if (!menuGrid) return;
        
        menuGrid.innerHTML = menuItems.map(item => `
            <div class="menu-card">
                ${item.badge ? `<span class="menu-badge">${item.badge}</span>` : ''}
                <div class="menu-image" style="background-image: url('${item.image}');"></div>
                <div class="menu-content">
                    <div class="menu-header">
                        <h3>${item.name}</h3>
                        <span class="menu-price">₦${item.price.toLocaleString()}</span>
                    </div>
                    <p class="menu-desc">${item.description}</p>
                    <div class="menu-footer">
                        <div class="quantity-selector" data-id="${item.id}">
                            <button class="quantity-btn minus" data-id="${item.id}">-</button>
                            <span class="quantity-value" id="qty-${item.id}">1</span>
                            <button class="quantity-btn plus" data-id="${item.id}">+</button>
                        </div>
                        <button class="btn-add" data-id="${item.id}">
                            <i class="fas fa-cart-plus"></i> Add
                        </button>
                    </div>
                </div>
            </div>
        `).join('');
    }

    // ==================== CART FUNCTIONS ====================
    function addToCart(itemId) {
        const item = menuItems.find(i => i.id == itemId);
        const qtyEl = document.getElementById(`qty-${itemId}`);
        const quantity = parseInt(qtyEl.textContent);
        
        const existingItem = cart.find(i => i.id == itemId);
        
        if (existingItem) {
            existingItem.quantity += quantity;
        } else {
            cart.push({
                id: item.id,
                name: item.name,
                price: item.price,
                quantity: quantity,
                image: item.image
            });
        }
        
        qtyEl.textContent = 1;
        localStorage.setItem('cleanbite_cart', JSON.stringify(cart));
        updateCartDisplay();
        showNotification(`${item.name} added to cart`, 'success');
    }

    function updateCartDisplay() {
        const cartCount = document.getElementById('cartCount');
        if (cartCount) {
            cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
        }
        
        const cartItemsContainer = document.getElementById('cartItems');
        if (cartItemsContainer) {
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<div style="text-align: center; padding: 40px;"><i class="fas fa-shopping-cart" style="font-size: 60px; color: #ddd;"></i><p style="color: var(--gray); margin-top: 15px;">Your cart is empty</p></div>';
            } else {
                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-image" style="background-image: url('${item.image}');"></div>
                        <div class="cart-item-details">
                            <div class="cart-item-title">${item.name}</div>
                            <div class="cart-item-price">₦${item.price.toLocaleString()}</div>
                        </div>
                        <div class="cart-item-quantity">
                            <button class="cart-quantity-btn" onclick="updateCartQuantity(${item.id}, -1)">-</button>
                            <span style="font-weight: 700; min-width: 30px; text-align: center;">${item.quantity}</span>
                            <button class="cart-quantity-btn" onclick="updateCartQuantity(${item.id}, 1)">+</button>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        const vat = subtotal * 0.075;
        const total = subtotal + vat;
        
        document.getElementById('cartSubtotal').textContent = `₦${subtotal.toLocaleString()}`;
        document.getElementById('cartVat').textContent = `₦${vat.toLocaleString()}`;
        document.getElementById('cartTotal').textContent = `₦${total.toLocaleString()}`;
    }

    window.updateCartQuantity = function(itemId, change) {
        const item = cart.find(i => i.id == itemId);
        if (item) {
            item.quantity += change;
            if (item.quantity <= 0) {
                cart = cart.filter(i => i.id != itemId);
            }
            localStorage.setItem('cleanbite_cart', JSON.stringify(cart));
            updateCartDisplay();
        }
    };

    function clearCart() {
        cart = [];
        localStorage.setItem('cleanbite_cart', JSON.stringify(cart));
        updateCartDisplay();
        showNotification('Cart cleared', 'info');
    }

    function openCartModal() {
        updateCartDisplay();
        document.getElementById('cartModal').classList.add('active');
    }

    function openCheckoutModal() {
        if (cart.length === 0) {
            showNotification('Your cart is empty', 'warning');
            return;
        }
        document.getElementById('orderForm')?.reset();
        document.getElementById('paymentTransfer').checked = true;
        document.getElementById('bankDetails').style.display = 'block';
        document.getElementById('cashDetails').style.display = 'none';
        closeModal('cartModal');
        document.getElementById('checkoutModal').classList.add('active');
    }

    // ==================== FIXED: Generate Order ID in CORRECT FORMAT ====================
    // Format: CB-XXXXXX-XXXX (e.g., CB-688184-7296)
    function generateOrderId() {
        // Get last 6 digits of timestamp
        const timestamp = Date.now().toString().slice(-6); // "688184"
        
        // Generate 4 random digits
        const random = Math.floor(1000 + Math.random() * 9000); // 1000-9999
        
        return `CB-${timestamp}-${random}`;
    }

    // ==================== FIXED: Save to Firebase ====================
    function saveOrderToFirebase(order) {
        return new Promise((resolve) => {
            console.log('💾 Saving to Firebase:', order.id);
            
            if (!window.database) {
                resolve({ success: false, local: true, order });
                return;
            }
            
            try {
                const ordersRef = window.database.ref('orders');
                const newOrderRef = ordersRef.push();
                order.firebaseKey = newOrderRef.key;
                
                const timeout = setTimeout(() => {
                    resolve({ success: false, timeout: true, order });
                }, 3000);
                
                newOrderRef.set(order)
                    .then(() => {
                        clearTimeout(timeout);
                        console.log('✅ Order saved to Firebase with ID:', order.id);
                        resolve({ success: true, order });
                    })
                    .catch(err => {
                        clearTimeout(timeout);
                        console.error('❌ Firebase save error:', err);
                        resolve({ success: false, error: err, order });
                    });
            } catch (err) {
                console.error('❌ Exception:', err);
                resolve({ success: false, error: err, order });
            }
        });
    }

    // ==================== FIXED: SUBMIT ORDER BUTTON ====================
    function setupSubmitButton() {
        const submitBtn = document.getElementById('submitOrderBtn');
        if (!submitBtn) return;
        
        const newBtn = submitBtn.cloneNode(true);
        submitBtn.parentNode.replaceChild(newBtn, submitBtn);
        
        newBtn.addEventListener('click', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('customerName')?.value.trim();
            const phone = document.getElementById('customerPhone')?.value.trim();
            
            if (!name || name.length < 2) {
                showNotification('Please enter your full name', 'warning');
                return;
            }
            
            if (!phone || phone.length < 10) {
                showNotification('Please enter a valid phone number', 'warning');
                return;
            }
            
            const currentCart = JSON.parse(localStorage.getItem('cleanbite_cart') || '[]');
            if (currentCart.length === 0) {
                showNotification('Your cart is empty', 'warning');
                return;
            }
            
            const originalText = newBtn.innerHTML;
            newBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            newBtn.disabled = true;
            
            // 🔥 FIXED: Generate Order ID in the correct format for track page
            const orderId = generateOrderId();
            console.log('📦 Generated Order ID:', orderId); // Should be like: CB-688184-7296
            
            const subtotal = currentCart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + (subtotal * 0.075);
            
            const order = {
                id: orderId,
                customerName: name,
                customerPhone: phone,
                customerEmail: document.getElementById('customerEmail')?.value.trim() || '',
                deliveryNotes: document.getElementById('deliveryNotes')?.value.trim() || '',
                items: currentCart,
                subtotal: subtotal,
                total: total,
                paymentMethod: document.querySelector('input[name="payment"]:checked')?.value || 'transfer',
                paymentStatus: 'pending',
                status: 'pending-payment',
                createdAt: new Date().toISOString()
            };
            
            // Save with timeout protection
            const savePromise = saveOrderToFirebase(order);
            const timeoutPromise = new Promise(resolve => {
                setTimeout(() => resolve({ success: false, timeout: true, order }), 5000);
            });
            
            Promise.race([savePromise, timeoutPromise])
                .then(result => {
                    // Clear cart
                    localStorage.removeItem('cleanbite_cart');
                    cart = [];
                    updateCartDisplay();
                    closeModal('checkoutModal');
                    
                    // 🔥 FIXED: Show confirmation with correct order ID
                    showOrderConfirmation(order);
                    
                    // Reset button
                    newBtn.innerHTML = originalText;
                    newBtn.disabled = false;
                    
                    showNotification('Order placed successfully!', 'success');
                })
                .catch(error => {
                    console.error('Error:', error);
                    
                    // Even on error, show confirmation
                    localStorage.removeItem('cleanbite_cart');
                    cart = [];
                    updateCartDisplay();
                    closeModal('checkoutModal');
                    showOrderConfirmation(order);
                    
                    newBtn.innerHTML = originalText;
                    newBtn.disabled = false;
                    
                    showNotification('Order saved locally!', 'info');
                });
        });
    }

    // ==================== FIXED: CONFIRMATION MODAL ====================
    function showOrderConfirmation(order) {
        const modal = document.getElementById('confirmationModal');
        if (!modal) {
            alert(`✅ ORDER PLACED!\nOrder ID: ${order.id}\nTotal: ₦${(order.total || 0).toLocaleString()}\n\nTrack your order at: track.html?order=${order.id}`);
            return;
        }
        
        document.getElementById('confirmCustomerName').textContent = order.customerName || 'Customer';
        document.getElementById('confirmOrderId').textContent = order.id; // Shows CB-688184-7296
        document.getElementById('confirmTotal').textContent = `₦${(order.total || 0).toLocaleString()}`;
        
        // 24 hours from now for ready time
        const readyTime = new Date(Date.now() + 24 * 60 * 60 * 1000);
        document.getElementById('confirmEstimatedTime').textContent = 
            readyTime.toLocaleString([], { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });
        
        // 🔥 FIXED: Track order button with proper URL
        const trackBtn = document.getElementById('trackOrderBtn');
        if (trackBtn) {
            trackBtn.onclick = function() {
                const trackUrl = `track.html?order=${order.id}`;
                console.log('🔗 Opening track URL:', trackUrl);
                window.open(trackUrl, '_blank');
            };
        }
        
        // Also update footer track link
        const footerTrackLink = document.getElementById('trackOrderLink');
        if (footerTrackLink) {
            footerTrackLink.href = `track.html?order=${order.id}`;
        }
        
        modal.classList.add('active');
        
        // Save to localStorage for backup tracking
        const orders = JSON.parse(localStorage.getItem('cleanbite_orders') || '[]');
        orders.push(order);
        localStorage.setItem('cleanbite_orders', JSON.stringify(orders));
        
        console.log('✅ Order saved for tracking:', order.id);
    }

    // ==================== LIVE KITCHEN STATS ====================
    class LiveKitchenSystem {
        constructor() {
            this.kitchenData = { preparing: 0, incubating: 0, ready: 0, completed: 0 };
            this.init();
        }

        init() {
            console.log('👨‍🍳 Live Kitchen System initializing...');
            this.setupFirebaseListener();
        }

        setupFirebaseListener() {
            if (!database) {
                console.error('❌ Firebase not available');
                return;
            }

            database.ref('orders').on('value', (snapshot) => {
                const data = snapshot.val();
                
                if (!data) {
                    this.kitchenData = { preparing: 0, incubating: 0, ready: 0, completed: 0 };
                    this.updateDisplay();
                    return;
                }
                
                const orders = Object.values(data);
                
                this.kitchenData = {
                    preparing: orders.filter(o => o.paymentStatus === 'verified' && o.status === 'preparing').length,
                    incubating: orders.filter(o => o.paymentStatus === 'verified' && o.status === 'incubating').length,
                    ready: orders.filter(o => o.paymentStatus === 'verified' && o.status === 'ready').length,
                    completed: orders.filter(o => o.paymentStatus === 'verified' && o.status === 'completed').length
                };
                
                console.log('📊 Kitchen stats updated:', this.kitchenData);
                this.updateDisplay();
            }, (error) => {
                console.error('❌ Firebase listener error:', error);
            });
        }

        updateDisplay() {
            document.getElementById('preparingCount').textContent = this.kitchenData.preparing;
            document.getElementById('incubatingCount').textContent = this.kitchenData.incubating;
            document.getElementById('readyCount').textContent = this.kitchenData.ready;
            document.getElementById('completedCount').textContent = this.kitchenData.completed;
        }
    }

    // ==================== LIVE ACTIVITY FEED ====================
    function initActivityFeed() {
        console.log('📡 Initializing live activity feed from Firebase...');
        
        const feed = document.getElementById('activityFeed');
        if (feed) {
            feed.innerHTML = '<div class="activity-item"><div class="activity-icon"><i class="fas fa-circle-notch fa-spin"></i></div><div class="activity-content"><div class="activity-text">Connecting to live kitchen...</div></div></div>';
        }
        
        setupActivityListeners();
        loadRecentActivities();
    }

    function setupActivityListeners() {
        if (!database) return;

        // Listen for NEW orders
        database.ref('orders').on('child_added', (snapshot) => {
            const order = snapshot.val();
            order.firebaseKey = snapshot.key;
            
            console.log('🆕 New order detected:', order.id);
            
            if (order.paymentStatus === 'pending' && order.status === 'pending-payment') {
                addActivityToFeed({
                    type: 'order_created',
                    message: `🛒 New order ${order.id.slice(-8)} from ${order.customerName || 'Customer'}`,
                    orderId: order.id,
                    customerName: order.customerName,
                    timestamp: order.createdAt || new Date().toISOString(),
                    icon: 'fa-cart-plus',
                    color: '#9b59b6'
                });
                
                playNotificationSound();
            }
        });

        // Listen for UPDATES to orders
        database.ref('orders').on('child_changed', (snapshot) => {
            const order = snapshot.val();
            order.firebaseKey = snapshot.key;
            
            console.log('🔄 Order updated:', order.id, 'Status:', order.status);
            
            if (order.verifiedAt && order.paymentStatus === 'verified') {
                addActivityToFeed({
                    type: 'payment_verified',
                    message: `💰 Payment verified for order ${order.id.slice(-8)} - Now PREPARING`,
                    orderId: order.id,
                    customerName: order.customerName,
                    timestamp: order.verifiedAt,
                    icon: 'fa-check-circle',
                    color: '#2ecc71'
                });
                playNotificationSound();
            }
            
            if (order.paymentStatus === 'rejected' && order.rejectedAt) {
                addActivityToFeed({
                    type: 'payment_rejected',
                    message: `❌ Payment rejected for order ${order.id.slice(-8)}`,
                    orderId: order.id,
                    customerName: order.customerName,
                    timestamp: order.rejectedAt,
                    icon: 'fa-times-circle',
                    color: '#e74c3c'
                });
                playNotificationSound();
            }
            
            if (order.updatedAt && order.status) {
                let message = '';
                let icon = 'fa-sync-alt';
                let color = '#3498db';
                
                if (order.status === 'preparing') {
                    message = `👨‍🍳 Order ${order.id.slice(-8)} started preparation`;
                } else if (order.status === 'incubating') {
                    message = `⏱️ Order ${order.id.slice(-8)} moved to incubating (24hr countdown started)`;
                    color = '#f39c12';
                } else if (order.status === 'ready') {
                    message = `✅ Order ${order.id.slice(-8)} is READY for pickup`;
                    icon = 'fa-check-circle';
                    color = '#2ecc71';
                } else if (order.status === 'completed') {
                    message = `📦 Order ${order.id.slice(-8)} completed and picked up`;
                    icon = 'fa-flag-checkered';
                    color = '#3498db';
                } else if (order.status === 'cancelled') {
                    message = `❌ Order ${order.id.slice(-8)} was cancelled`;
                    icon = 'fa-times-circle';
                    color = '#e74c3c';
                }
                
                if (message) {
                    addActivityToFeed({
                        type: 'status_change',
                        message: message,
                        orderId: order.id,
                        customerName: order.customerName,
                        timestamp: order.updatedAt,
                        icon: icon,
                        color: color
                    });
                    playNotificationSound();
                }
            }
        });
    }

    function loadRecentActivities() {
        if (!database) return;
        
        database.ref('orders').orderByKey().limitToLast(20).once('value', (snapshot) => {
            const data = snapshot.val();
            if (!data) return;
            
            const orders = Object.values(data);
            const activities = [];
            
            orders.forEach(order => {
                if (order.verifiedAt) {
                    activities.push({
                        type: 'payment_verified',
                        message: `💰 Payment verified for order ${order.id.slice(-8)}`,
                        orderId: order.id,
                        customerName: order.customerName,
                        timestamp: order.verifiedAt,
                        icon: 'fa-check-circle',
                        color: '#2ecc71'
                    });
                }
                
                if (order.updatedAt && order.status) {
                    let message = '';
                    if (order.status === 'preparing') 
                        message = `👨‍🍳 Order ${order.id.slice(-8)} started preparation`;
                    if (order.status === 'incubating') 
                        message = `⏱️ Order ${order.id.slice(-8)} moved to incubating`;
                    if (order.status === 'ready') 
                        message = `✅ Order ${order.id.slice(-8)} is READY for pickup`;
                    if (order.status === 'completed') 
                        message = `📦 Order ${order.id.slice(-8)} completed`;
                    
                    if (message) {
                        activities.push({
                            type: 'status_change',
                            message: message,
                            orderId: order.id,
                            customerName: order.customerName,
                            timestamp: order.updatedAt,
                            icon: order.status === 'ready' ? 'fa-check-circle' : 'fa-sync-alt',
                            color: order.status === 'ready' ? '#2ecc71' : 
                                   order.status === 'incubating' ? '#f39c12' : '#3498db'
                        });
                    }
                }
                
                if (order.createdAt && !order.verifiedAt && order.status !== 'cancelled') {
                    activities.push({
                        type: 'order_created',
                        message: `🛒 New order ${order.id.slice(-8)} from ${order.customerName || 'Customer'}`,
                        orderId: order.id,
                        customerName: order.customerName,
                        timestamp: order.createdAt,
                        icon: 'fa-cart-plus',
                        color: '#9b59b6'
                    });
                }
            });
            
            activities.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            const feed = document.getElementById('activityFeed');
            if (!feed) return;
            
            if (activities.length === 0) {
                feed.innerHTML = '<div class="activity-item"><div class="activity-icon"><i class="fas fa-mug-hot"></i></div><div class="activity-content"><div class="activity-text">No recent activity</div></div></div>';
                return;
            }
            
            feed.innerHTML = '';
            activities.slice(0, 15).forEach(activity => {
                addActivityToFeed(activity, false);
            });
        });
    }

    function addActivityToFeed(activity, animate = true) {
        const feed = document.getElementById('activityFeed');
        if (!feed) return;
        
        const loading = feed.querySelector('.fa-spin');
        if (loading) feed.innerHTML = '';
        
        const timeAgo = getTimeAgo(activity.timestamp);
        
        const el = document.createElement('div');
        el.className = 'activity-item';
        el.style.borderLeftColor = activity.color || '#3498db';
        el.style.animation = animate ? 'slideIn 0.4s ease' : 'none';
        
        el.innerHTML = `
            <div class="activity-icon" style="color: ${activity.color || '#3498db'};">
                <i class="fas ${activity.icon || 'fa-bell'}"></i>
            </div>
            <div class="activity-content">
                <div class="activity-text">${activity.message}</div>
                <div class="activity-meta">
                    <span class="activity-time"><i class="far fa-clock"></i> ${timeAgo}</span>
                    ${activity.customerName ? 
                        `<span class="activity-customer"><i class="fas fa-user"></i> ${activity.customerName}</span>` : ''}
                    ${activity.orderId ? 
                        `<span class="activity-order"><i class="fas fa-hashtag"></i> ${activity.orderId.slice(-8)}</span>` : ''}
                </div>
            </div>
        `;
        
        if (feed.firstChild) {
            feed.insertBefore(el, feed.firstChild);
        } else {
            feed.appendChild(el);
        }
        
        while (feed.children.length > 30) {
            feed.removeChild(feed.lastChild);
        }
        
        setTimeout(() => {
            el.style.background = 'rgba(255,215,0,0.1)';
            setTimeout(() => { el.style.background = ''; }, 1000);
        }, 100);
    }

    function playNotificationSound() {
        try {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            const audioCtx = new AudioContext();
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.type = 'sine';
            oscillator.frequency.value = 600;
            gainNode.gain.value = 0.2;
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.2);
        } catch (e) {}
    }

    function getTimeAgo(timestamp) {
        if (!timestamp) return 'Just now';
        const diff = Math.floor((new Date() - new Date(timestamp)) / 60000);
        if (diff < 1) return 'Just now';
        if (diff < 60) return `${diff}m ago`;
        if (diff < 1440) return `${Math.floor(diff / 60)}h ago`;
        return `${Math.floor(diff / 1440)}d ago`;
    }

    function refreshActivityFeed() {
        loadRecentActivities();
        showNotification('Activity feed refreshed', 'info');
    }

    // ==================== NOTIFICATION ====================
    function showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.className = `notification-toast ${type}`;
        notification.innerHTML = `
            <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'warning' ? 'fa-exclamation-triangle' : 'fa-info-circle'}" 
               style="font-size: 24px; color: ${type === 'success' ? '#2ecc71' : type === 'warning' ? '#f39c12' : '#3498db'};"></i>
            <div style="flex: 1;">
                <div style="font-weight: 700; margin-bottom: 5px;">${type === 'success' ? 'Success' : type === 'warning' ? 'Notice' : 'Info'}</div>
                <div style="color: var(--gray); font-size: 14px;">${message}</div>
            </div>
            <button onclick="this.parentElement.remove()" style="background: none; border: none; color: var(--gray); cursor: pointer; font-size: 20px;">&times;</button>
        `;
        document.body.appendChild(notification);
        setTimeout(() => notification.remove(), 5000);
    }

    // ==================== MODAL FUNCTIONS ====================
    window.closeModal = function(modalId) {
        document.getElementById(modalId)?.classList.remove('active');
    };

    // ==================== PARALLAX ====================
    function setupParallax() {
        window.addEventListener('scroll', () => {
            const layer = document.getElementById('parallaxLayer');
            if (layer) {
                layer.style.transform = `translateY(${window.pageYOffset * 0.2}px)`;
            }
        });
    }

    // ==================== EVENT LISTENERS ====================
    function setupEventListeners() {
        document.getElementById('cartIcon')?.addEventListener('click', openCartModal);
        document.getElementById('closeCartModal')?.addEventListener('click', () => closeModal('cartModal'));
        document.getElementById('closeCheckoutModal')?.addEventListener('click', () => closeModal('checkoutModal'));
        document.getElementById('closeConfirmationModal')?.addEventListener('click', () => closeModal('confirmationModal'));
        
        document.getElementById('backToCart')?.addEventListener('click', () => {
            closeModal('checkoutModal');
            openCartModal();
        });
        
        document.getElementById('clearCartBtn')?.addEventListener('click', clearCart);
        document.getElementById('checkoutBtn')?.addEventListener('click', openCheckoutModal);
        
        document.getElementById('paymentTransfer')?.addEventListener('change', (e) => {
            document.getElementById('bankDetails').style.display = e.target.checked ? 'block' : 'none';
            document.getElementById('cashDetails').style.display = e.target.checked ? 'none' : 'block';
        });
        
        document.getElementById('paymentCash')?.addEventListener('change', (e) => {
            document.getElementById('bankDetails').style.display = e.target.checked ? 'none' : 'block';
            document.getElementById('cashDetails').style.display = e.target.checked ? 'block' : 'none';
        });
        
        document.getElementById('refreshKitchen')?.addEventListener('click', () => {
            refreshActivityFeed();
            if (window.liveKitchen) window.liveKitchen.updateKitchenStats?.();
            showNotification('Kitchen feed refreshed', 'info');
        });
        
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('plus')) {
                const id = e.target.dataset.id;
                const qtyEl = document.getElementById(`qty-${id}`);
                qtyEl.textContent = parseInt(qtyEl.textContent) + 1;
            }
            
            if (e.target.classList.contains('minus')) {
                const id = e.target.dataset.id;
                const qtyEl = document.getElementById(`qty-${id}`);
                let qty = parseInt(qtyEl.textContent);
                if (qty > 1) qtyEl.textContent = qty - 1;
            }
            
            if (e.target.classList.contains('btn-add') || e.target.closest('.btn-add')) {
                const btn = e.target.classList.contains('btn-add') ? e.target : e.target.closest('.btn-add');
                addToCart(btn.dataset.id);
            }
        });
        
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal(modal.id);
            });
        });
    }

    // ==================== INITIALIZE ====================
    document.addEventListener('DOMContentLoaded', () => {
        console.log('🍽️ Order Page Initializing...');
        
        renderMenu();
        updateCartDisplay();
        
        window.liveKitchen = new LiveKitchenSystem();
        initActivityFeed();
        
        setupEventListeners();
        setupParallax();
        setupSubmitButton();
        
        console.log('✅ Order Page Ready - Order ID format: CB-XXXXXX-XXXX');
    });

    // Make functions global
    window.addToCart = addToCart;
    window.openCartModal = openCartModal;
    window.updateCartQuantity = updateCartQuantity;
    window.showNotification = showNotification;
    </script>
</body>
</html>

